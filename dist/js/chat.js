!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=21)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Selector=class{constructor(e){this.query=e}get element(){const e=document.querySelector(this.query);if(null===e)throw new Error("DOM not found with selector."+this.query);return e}get elements(){return document.querySelectorAll(this.query)}get htmlElement(){const e=this.element;if(null===e)throw new Error("DOM is not HTMLElement.");return e}get htmlElements(){return document.querySelectorAll(this.query)}isGenerated(){return null!==document.querySelector(this.query)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MessageManager=class{setListener(e){chrome.runtime.onMessage.addListener(e)}send(e){chrome.runtime.sendMessage(e)}sendToActiveTab(e){chrome.tabs.query({active:!0,currentWindow:!0},t=>{void 0!==t[0]&&null!=t[0].id&&chrome.tabs.sendMessage(t[0].id,e)})}},function(e){e[e.SET_OVERLAY_MODE=0]="SET_OVERLAY_MODE",e[e.TOGGLE_CHAT_INPUT_ENABLED=1]="TOGGLE_CHAT_INPUT_ENABLED",e[e.UPDATE_ICON=2]="UPDATE_ICON",e[e.KEY_DOWN=3]="KEY_DOWN"}(t.MessageType||(t.MessageType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OverlayModeManager=class{constructor(e){this.element=e}setMode(e){switch(e){case 0:this.element.classList.add("overlay-mode"),this.element.classList.remove("default-mode");break;case 1:this.element.classList.remove("overlay-mode"),this.element.classList.add("default-mode")}}toggleMode(){this.isEnabled?this.setMode(1):this.setMode(0)}get isEnabled(){return this.element.classList.contains("overlay-mode")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Storage=class{constructor(){this.keyPrefix="chat-overlayer-for-youtube-"}get(e){return window.localStorage.getItem(this.keyPrefix+e)}set(e,t){window.localStorage.setItem(this.keyPrefix+e,t)}}},,,,,,,,,,,,,,,,,,function(e,t,r){r(22),e.exports=r(26)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(23);window.onload=()=>{new s.Chat}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0),n=r(2),o=r(3),i=r(1),a=r(24);class l extends s.Selector{constructor(){super("body"),this.storage=new o.Storage,this.messageManager=new i.MessageManager,this.overlayModeManager=new n.OverlayModeManager(this.htmlElement),this.chatInputAreaSelector=new a.ChatInputAreaSelector,this.initialize()}initialize(){this.refreshOverlayMode(),this.initializeKeyListener(),this.initializeMessageListener()}initializeKeyListener(){window.addEventListener("keydown",e=>{const t=["textarea","input"];if(![65,67,79].includes(e.keyCode))return;if(null==e.target)return;let r=null;try{r=e.target}catch(e){return void console.debug(e)}if(!e.altKey){if(t.includes(r.tagName.toLowerCase()))return;if(t.includes(r.id.toLowerCase()))return}const s={type:i.MessageType.KEY_DOWN,data:{keyCode:e.keyCode}};this.messageManager.send(s)})}initializeMessageListener(){this.messageManager.setListener(e=>{switch(e.type){case i.MessageType.SET_OVERLAY_MODE:const t=e.data.isOverlayMode;this.changeOverlayMode(t);break;case i.MessageType.TOGGLE_CHAT_INPUT_ENABLED:this.chatInputAreaSelector.toggleShow()}})}refreshOverlayMode(){let e=this.storage.get("overlay-mode");if(null==e)return void this.changeOverlayMode(!0);const t="true"==e;this.changeOverlayMode(t)}changeOverlayMode(e){const t=e?0:1;this.overlayModeManager.setMode(t)}}t.Chat=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(25),n=r(0);class o extends n.Selector{constructor(){super("yt-live-chat-message-input-renderer");try{this.chatInputModeManager=new s.ChatInputModeManager(this.htmlElement)}catch(e){this.chatInputModeManager=null,console.debug(e)}}toggleShow(){null!=this.chatInputModeManager&&this.chatInputModeManager.toggleMode()}}t.ChatInputAreaSelector=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ChatInputModeManager=class{constructor(e,t=0){this.element=e,this.setMode(t)}setMode(e){switch(e){case 0:this.element.classList.add("enabled-input-renderer"),this.element.classList.remove("disabled-input-renderer");break;case 1:this.element.classList.remove("enabled-input-renderer"),this.element.classList.add("disabled-input-renderer")}}toggleMode(){this.isEnabled?this.setMode(1):this.setMode(0)}get isEnabled(){return this.element.classList.contains("enabled-input-renderer")}get isDisabled(){return this.element.classList.contains("disabled-input-renderer")}}},function(e,t,r){}]);